<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <style>
        .dropbtn {
            background-color: #3498DB;
            color: white;
            padding: 8px;
            font-size: 16px;
            border: none;
            cursor: pointer;
        }
        .dropbtn:hover, .dropbtn:focus {
            background-color: #2980B9;
        }
        .dropdown {
            position: relative;
            display: inline-block;
        }
        .dropdown-content {
            display: none;
            position: absolute;
            background-color: #f1f1f1;
            min-width: 160px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            z-index: 1;
        }
        .dropdown-content a {
            color: black;
            padding: 6px 8px;
            text-decoration: none;
            display: block;
        }
        .dropdown-content button {
            color: black;
            padding: 6px 8px;
            text-decoration: none;
            display: block;
            border: none;
        }
        table, th, td {
            /* border: 1px solid; */
        }
        .resut {
            border-collapse: collapse;
        }
        .dropdown-content a:hover {background-color: #ddd}
        .show {display:block;}
    </style>
    
    <div style="">Investment amount</div>
    <input id="VL" name="VLVL" type="text" value="">
    <div class="dropdown">
    <button onclick="myFunction()" class="dropbtn">Select investment option</button>
    <div id="myDropdown" class="dropdown-content">
        <a  id="BB" >Buy Back</a>
        <a id="CG">Capital Gain</a>
    
    </div>
    </div>
    <div id="MainTextAmount"></div>
    <table style="width:100%" id="mainTB" class="resut">
        
    </table>
    <script>
    // Drop down menu 
    function myFunction() {
        document.getElementById("myDropdown").classList.toggle("show");
    }
    window.onclick = function(event) {
    if (!event.target.matches('.dropbtn')) {
    
        var dropdowns = document.getElementsByClassName("dropdown-content");
        var i;
        for (i = 0; i < dropdowns.length; i++) {
        var openDropdown = dropdowns[i];
        if (openDropdown.classList.contains('show')) {
            openDropdown.classList.remove('show');
        }
        }
    }
    }
    
    const bb = document.getElementById("BB");
    const cg = document.getElementById("CG")
    const inputValue = document.getElementById("VL");
    const result = document.querySelector(".resut");
    const resultTable = document.getElementById("mainTB");
    const MainTextAmount = document.getElementById("MainTextAmount")
    //Calculartion Buy Back
    cg.addEventListener("click", function() {
        resultTable.innerHTML = ""
        MainTextAmount.innerHTML = ""
        if (inputValue.value.length > 0){
            
        var SMTXT = document.createElement("div")
        SMTXT.style.cssText = `font-size: 26px;padding-bottom:15px;`; 
        SMTXT.innerText = "Capital Gain" 
        MainTextAmount.appendChild(SMTXT);
        var defText = document.createElement("div");
        defText.innerText = 'Capital Gain Option';
        var tr= document.createElement("tr");
        resultTable.appendChild(tr);
        var Year = document.createElement("th");
        Year.innerText = "End of Year";
        var Ret = document.createElement("th");
        Ret.innerText = "Guaranteed Return %";
        var RetA = document.createElement("th");
        RetA.innerText = "Guaranteed Return Amount";
        var RetT = document.createElement("th");
        RetT.innerText = "Total Guaranteed Return Amount";
        Year.style.cssText = `border: 1px black solid;`
        Ret.style.cssText = `border: 1px black solid;`
        RetA.style.cssText = `border: 1px black solid;`
        RetT.style.cssText = `border: 1px black solid;`
        tr.appendChild(Year);
        tr.appendChild(Ret);
        tr.appendChild(RetA);
        tr.appendChild(RetT);
        var tr2= document.createElement("tr");
        resultTable.appendChild(tr2);
        var amount = 0;
        for(var i = 1; i <= 20; i++){
            
            var trr = document.createElement("tr")
            resultTable.appendChild(trr)    
            var res = document.createElement("td");
            res.style.cssText = `text-align: center;border: 1px black solid;`;
            res.innerText ="End of Year "+ i;
            var res2 = document.createElement("td");
            res2.style.cssText= `text-align: center;border: 1px black solid;`;
            var res4 = document.createElement("td");
            res4.style.cssText= `text-align: center;border: 1px black solid;`;
            
            if(i < 11){
                res2.innerText ="4%";
            }
            if(i>10 && i <=20){
                res2.innerText ="6%";
            }
            var res3 = document.createElement("td");
            res3.style.cssText= `text-align: center;border: 1px black solid;`;
            if(i<=10){
                res3.innerText= inputValue.value*0.04;
                amount += inputValue.value*0.04
                res4.innerText = amount
                
            }
            if(i>10 && i<=20){
                res3.innerText= inputValue.value*0.06;
                amount += inputValue.value*0.06
                res4.innerText = amount
                res4.innerText = amount
            }
            
            
            trr.appendChild(res);
            trr.appendChild(res2);
            trr.appendChild(res3);
            trr.appendChild(res4)
        } 
    } else {
        var errText = document.createElement("div");
        errText.innerText = "Please enter a value"
        MainTextAmount.appendChild(errText);
    
    }
    
    });
    //Calculartion Capital Gain
    bb.addEventListener("click", function() {
    resultTable.innerHTML = ""
    MainTextAmount.innerHTML = "";
    if (inputValue.value.length > 0){
        var SMTXT = document.createElement("div")
        SMTXT.innerText = "Cash Flow - Buy Back Option";
        SMTXT.style.cssText = `font-size: 26px;padding-bottom:15px;`; 
        MainTextAmount.appendChild(SMTXT);
        
        var tr= document.createElement("tr");
        resultTable.appendChild(tr);
        var Year = document.createElement("th");
        Year.innerText = "End of Year";
        var Ret = document.createElement("th");
        Ret.innerText = " Return %";
        var RetA = document.createElement("th");
        RetA.innerText = "Return Amount";
        var RetT = document.createElement("th");
        RetT.innerText = "Total  Amount";
        Year.style.cssText = `border: 1px black solid;`
        Ret.style.cssText = `border: 1px black solid;`
        RetA.style.cssText = `border: 1px black solid;`
        RetT.style.cssText = `border: 1px black solid;`
        tr.appendChild(Year);
        tr.appendChild(Ret);
        tr.appendChild(RetA);
        tr.appendChild(RetT);
        var Amount = 0;
        for(var i = 1; i <= 20; i++){
            var trr = document.createElement("tr")
            resultTable.appendChild(trr)    
            var res = document.createElement("td");
            res.style.cssText= `text-align: center;border: 1px black solid;`;
            res.innerText ="End of Year "+ i;
            var res2 = document.createElement("td");
            res2.style.cssText= `text-align: center;border: 1px black solid;`;
            var res3 = document.createElement("td");
            res3.style.cssText= `text-align: center;border: 1px black solid;`;  
            var res4 = document.createElement("td");
            res4.style.cssText= `text-align: center;border: 1px black solid;`;
            if(i < 4){
                res2.innerText ="4%";
                res3.innerText+= inputValue.value*0.04;
                Amount +=  (inputValue.value*0.04)
                res4.innerText = Amount;
            }
            if(i > 3  && i< 6){
                res2.innerText ="4.5%";
                res3.innerText= inputValue.value*0.045;
                Amount +=  (inputValue.value*0.045)
                res4.innerText = Amount
            }
            if(i > 5 && i < 11){
                res2.innerText ="5%";
                res3.innerText= inputValue.value*0.05;
                Amount +=  (inputValue.value*0.05)
                res4.innerText = Amount
                
            }
            if(i>10 && i< 20){
                res2.innerText ="6%";
                res3.innerText= inputValue.value*0.06;
                Amount +=  (inputValue.value*0.06)
                res4.innerText = Amount
    
            }
            if(i == 20){
                res2.innerText ="6% + Initial Invesment";
                res3.innerText= inputValue.value*1.06;
                Amount +=  (parseInt(inputValue.value) + inputValue.value*0.06  )
                res4.innerText = Amount
            }
           
           
            
           
            
            trr.appendChild(res);
            trr.appendChild(res2);
            trr.appendChild(res3);
            trr.appendChild(res4)
        }
    } else {
        var errText = document.createElement("div");
        errText.innerText = "Please enter a value"
        MainTextAmount.appendChild(errText);
    }
    });
    </script>
</body>
</html>



